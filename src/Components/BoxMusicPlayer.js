import React, { useRef, useEffect, useState } from 'react';
import { Link } from 'react-router-dom';
import WaveSurfer from 'wavesurfer.js';
import LodingTop from './LodingTop';

const BoxMusicPlayer = ({ songs }) => {
    const wavesurferRef = useRef(null);
    const [currentSongIndex, setCurrentSongIndex] = useState(0);
    const [musicData, setmusicData] = useState();
    const [isPlaying, setIsPlaying] = useState(false);
    const [volume, setVolume] = useState(1);
    const [error, setError] = useState(null);
    const [currentTime, setCurrentTime] = useState(0);
    const [duration, setDuration] = useState(0);
    const [isLoading, setIsLoading] = useState(true);

    useEffect(() => {
        if (songs.length === 0) return;
        document.getElementById('box-music-popup').classList.remove('active-music-popup');
        document.getElementById('box-loding-music').classList.remove('hidden');

        initializeWaveSurfer();

        return () => {
            if (wavesurferRef.current) {
                wavesurferRef.current.destroy();
            }
        };
    }, [songs, currentSongIndex]);

    const initializeWaveSurfer = () => {
        wavesurferRef.current = WaveSurfer.create({
            container: '#waveform',
            waveColor: '#434343',
            progressColor: '#1DB954',
            barWidth: 3,
            barRadius: 100,
            cursorWidth: 0,
            height: 100,
            backend: 'MediaElement',
        });

        wavesurferRef.current.on('ready', () => {
            setDuration(wavesurferRef.current.getDuration());
            setIsLoading(false);
            document.getElementById('box-music-popup').classList.add('active-music-popup');
            document.getElementById('box-loding-music').classList.add('hidden');
        });

        wavesurferRef.current.on('audioprocess', () => {
            setCurrentTime(wavesurferRef.current.getCurrentTime());
        });

        wavesurferRef.current.on('finish', () => {
            playNextSong();
        });

        wavesurferRef.current.on('seek', (progress) => {
            const newTime = progress * wavesurferRef.current.getDuration();
            setCurrentTime(newTime);
        });

        wavesurferRef.current.on('interaction', () => {
            setCurrentTime(wavesurferRef.current.getCurrentTime());
        });

        loadCurrentSong();
    };

    const loadCurrentSong = () => {
        const currentSong = songs[currentSongIndex];
        setmusicData(currentSong);
        fetch(currentSong.url)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to fetch audio file');
                }
                return response.blob();
            })
            .then(audioBlob => {
                const objectURL = URL.createObjectURL(audioBlob);
                wavesurferRef.current.load(objectURL);
                setIsPlaying(false);
                setCurrentTime(0);
                setVolume(1);
                wavesurferRef.current.setVolume(1);
            })
            .catch(error => setError(error.message));
    };

    const playNextSong = () => {
        const nextIndex = (currentSongIndex + 1) % songs.length;
        setCurrentSongIndex(nextIndex);
    };

    const playPreviousSong = () => {
        const prevIndex = (currentSongIndex - 1 + songs.length) % songs.length;
        setCurrentSongIndex(prevIndex);
    };

    const togglePlay = () => {
        if (isPlaying) {
            wavesurferRef.current.pause();
        } else {
            wavesurferRef.current.play();
        }
        setIsPlaying(!isPlaying);
    };

    const handleVolumeChange = (e) => {
        const newVolume = parseFloat(e.target.value);
        setVolume(newVolume);
        wavesurferRef.current.setVolume(newVolume);
    };

    const formatTime = (time) => {
        const minutes = Math.floor(time / 60);
        const seconds = Math.floor(time % 60);
        return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    };

    const chengevolumBoxShow = () =>{
        document.getElementById('box-chenge-volum')?.classList.remove('hidden');
        document.getElementById('icon-chenge-volum')?.classList.add('hover-svg-green');
    }

    const chengevolumBoxHidden = () =>{
        document.getElementById('box-chenge-volum')?.classList.add('hidden');
        document.getElementById('icon-chenge-volum')?.classList.remove('hover-svg-green');
    }

    const muteVolumbtn = () =>{
        if(volume  ==  0)
        {
            setVolume(1);
            wavesurferRef.current.setVolume(1);
        }else{
            setVolume(0);
            wavesurferRef.current.setVolume(0);
        }
    }

    return (
        <>
            <div id='box-loding-music'>
                <LodingTop />
            </div>

            <section id='box-music-popup' className='flex items-center'>
                <div className='flex items-center'>
                    <Link className='text-[#1F1F1F] w-[8rem] h-min bg-[#1DB954] flex items-center justify-center px-[1rem] py-[0.5rem] rounded-full'>
                        <svg className='ml-[0.3rem]' width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.0059 4.49982C13.0059 3.94753 12.5581 3.49982 12.0059 3.49982C11.4536 3.49982 11.0059 3.94753 11.0059 4.49982L11.0059 10.9999L10.4116 10.9998C10.236 10.9997 10.0203 10.9996 9.84387 11.0216L9.84053 11.022C9.71408 11.0378 9.13804 11.1096 8.86368 11.6752C8.58872 12.2421 8.89065 12.7422 8.95597 12.8504L8.95841 12.8544C9.05062 13.0075 9.18477 13.1783 9.29511 13.3189L9.31885 13.3491C9.61348 13.725 9.99545 14.2092 10.3759 14.6002C10.5657 14.7953 10.783 14.9965 11.0139 15.1554C11.2191 15.2966 11.5693 15.4999 12 15.4999C12.4307 15.4999 12.7809 15.2966 12.9861 15.1554C13.217 14.9965 13.4343 14.7953 13.6241 14.6002C14.0046 14.2092 14.3865 13.725 14.6812 13.3491L14.7049 13.3189C14.8152 13.1784 14.9494 13.0075 15.0416 12.8544L15.044 12.8504C15.1093 12.7422 15.4113 12.2421 15.1363 11.6752C14.862 11.1096 14.2859 11.0378 14.1595 11.022L14.1561 11.0216C13.9797 10.9996 13.764 10.9997 13.5884 10.9998L13.0059 10.9999L13.0059 4.49982Z" fill="#1F1F1F"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4 15.5C4.55228 15.5 5 15.9477 5 16.5C5 17.0989 5.03256 17.5106 5.09643 17.8013C5.15781 18.0807 5.23372 18.181 5.27636 18.2236C5.31899 18.2663 5.41933 18.3422 5.69872 18.4036C5.98944 18.4674 6.40114 18.5 7 18.5L17 18.5C17.5989 18.5 18.0106 18.4674 18.3013 18.4036C18.5807 18.3422 18.681 18.2663 18.7236 18.2236C18.7663 18.181 18.8422 18.0807 18.9036 17.8013C18.9674 17.5106 19 17.0989 19 16.5C19 15.9477 19.4477 15.5 20 15.5C20.5523 15.5 21 15.9477 21 16.5C21 17.1421 20.9678 17.7259 20.857 18.2304C20.7437 18.7462 20.535 19.2407 20.1379 19.6379C19.7407 20.035 19.2462 20.2437 18.7304 20.357C18.2259 20.4678 17.6421 20.5 17 20.5L7 20.5C6.35786 20.5 5.77406 20.4678 5.26959 20.357C4.7538 20.2437 4.25926 20.035 3.86214 19.6379C3.46503 19.2407 3.25632 18.7462 3.14301 18.2304C3.03219 17.7259 3 17.1421 3 16.5C3 15.9477 3.44772 15.5 4 15.5Z" fill="#1F1F1F"/>
                        </svg>

                        <span>دانلود</span>
                    </Link>

                    <button className='h-min'>
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 25.9808L12 17.7075C12 14.0742 12 12.2575 13.1716 11.1287C14.3431 10 16.2288 10 20 10C23.7712 10 25.6569 10 26.8284 11.1287C28 12.2575 28 14.0742 28 17.7075V25.9808C28 28.2867 28 29.4396 27.2272 29.8523C25.7305 30.6514 22.9232 27.9852 21.59 27.1824C20.8168 26.7168 20.4302 26.484 20 26.484C19.5698 26.484 19.1832 26.7168 18.41 27.1824C17.0768 27.9852 14.2695 30.6514 12.7728 29.8523C12 29.4396 12 28.2867 12 25.9808Z" stroke="#F5F5F5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>

                <div className='mx-[1rem] relative flex justify-center items-center' onMouseMove={chengevolumBoxShow} onMouseOut={chengevolumBoxHidden}>
                    <button onClick={muteVolumbtn} id='icon-chenge-volum' className='w-[3.5rem] h-[2.5rem] bg-[#121212] rounded-full flex justify-center items-center relative z-[1]'>
                        {(volume > 0.7) ? (
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.9916 3.9756C11.6784 3.44801 12.4957 3.01957 13.367 3.38808C14.2302 3.75318 14.5076 4.63267 14.6274 5.49785C14.7502 6.38459 14.7502 7.60557 14.7502 9.12365L14.7502 14.8794C14.7502 16.3975 14.7502 17.6185 14.6274 18.5052C14.5076 19.3704 14.2302 20.2499 13.367 20.615C12.4957 20.9835 11.6784 20.5551 10.9916 20.0275C10.2892 19.488 9.3966 18.5765 8.34667 17.5044L8.34663 17.5044C7.80717 16.9535 7.44921 16.6873 7.08663 16.5374C6.72221 16.3868 6.27914 16.3229 5.50619 16.3229C4.83768 16.3229 4.23963 16.3229 3.78679 16.2758C3.31184 16.2265 2.87088 16.1191 2.47421 15.8485C1.7184 15.3328 1.42917 14.5777 1.31957 13.8838C1.23785 13.3663 1.24723 12.7981 1.25479 12.3405L1.25479 11.6626C1.24723 11.205 1.23785 10.6368 1.31957 10.1193C1.42917 9.42536 1.7184 8.67029 2.47421 8.15462C2.87088 7.88398 3.31184 7.77657 3.78679 7.72723C4.23963 7.68019 4.83768 7.68021 5.50619 7.68023C6.27914 7.68023 6.72221 7.61628 7.08663 7.46563C7.44922 7.31574 7.80717 7.04954 8.34663 6.49869L8.34664 6.49869C9.39659 5.42655 10.2892 4.51511 10.9916 3.9756Z" fill="white"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M16.3935 8.20504C16.8325 7.87003 17.4601 7.95439 17.7951 8.39347C18.5519 9.38539 19.0001 10.6418 19.0001 12.0001C19.0001 13.3583 18.5519 14.6147 17.7951 15.6066C17.4601 16.0457 16.8325 16.1301 16.3935 15.7951C15.9544 15.4601 15.87 14.8325 16.205 14.3935C16.699 13.746 17.0001 12.9149 17.0001 12.0001C17.0001 11.0852 16.699 10.2541 16.205 9.60664C15.87 9.16756 15.9544 8.54004 16.3935 8.20504Z" fill="white"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3247 6.26245C19.7321 5.8895 20.3646 5.91738 20.7376 6.32472C22.1408 7.8573 23 9.83247 23 12C23 14.1675 22.1408 16.1427 20.7376 17.6753C20.3646 18.0826 19.7321 18.1105 19.3247 17.7376C18.9174 17.3646 18.8895 16.7321 19.2625 16.3247C20.3609 15.125 21 13.621 21 12C21 10.379 20.3609 8.87497 19.2625 7.6753C18.8895 7.26796 18.9174 6.63541 19.3247 6.26245Z" fill="white"/>
                            </svg>
                        ) : (volume > 0.5) ? (
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.3935 8.20504C18.8325 7.87003 19.4601 7.95439 19.7951 8.39347C20.5519 9.38539 21.0001 10.6418 21.0001 12.0001C21.0001 13.3583 20.5519 14.6147 19.7951 15.6066C19.4601 16.0457 18.8325 16.1301 18.3935 15.7951C17.9544 15.4601 17.87 14.8325 18.205 14.3935C18.699 13.746 19.0001 12.9149 19.0001 12.0001C19.0001 11.0852 18.699 10.2541 18.205 9.60664C17.87 9.16756 17.9544 8.54004 18.3935 8.20504Z" fill="white"/>
                                <path d="M12.9916 3.9756C13.6784 3.44801 14.4957 3.01957 15.367 3.38808C16.2302 3.75318 16.5076 4.63267 16.6274 5.49785C16.7502 6.38459 16.7502 7.60557 16.7502 9.12365L16.7502 14.8794C16.7502 16.3975 16.7502 17.6185 16.6274 18.5052C16.5076 19.3704 16.2302 20.2499 15.367 20.615C14.4957 20.9835 13.6784 20.5551 12.9916 20.0275C12.2892 19.488 11.3966 18.5765 10.3467 17.5044L10.3466 17.5044C9.80717 16.9535 9.44921 16.6873 9.08663 16.5374C8.72221 16.3868 8.27914 16.3229 7.50619 16.3229C6.83768 16.3229 6.23963 16.3229 5.78679 16.2758C5.31184 16.2265 4.87088 16.1191 4.47421 15.8485C3.7184 15.3328 3.42917 14.5777 3.31957 13.8838C3.23785 13.3663 3.24723 12.7981 3.25479 12.3405V11.6626C3.24723 11.205 3.23785 10.6368 3.31957 10.1193C3.42917 9.42536 3.7184 8.67029 4.47421 8.15462C4.87088 7.88398 5.31184 7.77657 5.78679 7.72723C6.23963 7.68019 6.83768 7.68021 7.50619 7.68023C8.27914 7.68023 8.72221 7.61628 9.08663 7.46563C9.44922 7.31574 9.80717 7.04954 10.3466 6.49869L10.3466 6.49869C11.3966 5.42655 12.2892 4.51511 12.9916 3.9756Z" fill="white"/>
                            </svg>
                        ) : (volume > 0) ? (
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14.9916 3.9756C15.6784 3.44801 16.4957 3.01957 17.367 3.38808C18.2302 3.75318 18.5076 4.63267 18.6274 5.49785C18.7502 6.38459 18.7502 7.60557 18.7502 9.12365L18.7502 14.8794C18.7502 16.3975 18.7502 17.6185 18.6274 18.5052C18.5076 19.3704 18.2302 20.2499 17.367 20.615C16.4957 20.9835 15.6784 20.5551 14.9916 20.0275C14.2892 19.488 13.3966 18.5765 12.3467 17.5044L12.3466 17.5044C11.8072 16.9535 11.4492 16.6873 11.0866 16.5374C10.7222 16.3868 10.2791 16.3229 9.50619 16.3229C8.83768 16.3229 8.23963 16.3229 7.78679 16.2758C7.31184 16.2265 6.87088 16.1191 6.47421 15.8485C5.7184 15.3328 5.42917 14.5777 5.31957 13.8838C5.23785 13.3663 5.24723 12.7981 5.25479 12.3405L5.25479 11.6626C5.24723 11.205 5.23785 10.6368 5.31957 10.1193C5.42917 9.42536 5.7184 8.67029 6.47421 8.15462C6.87088 7.88398 7.31184 7.77657 7.78679 7.72723C8.23963 7.68019 8.83768 7.68021 9.50619 7.68023C10.2791 7.68023 10.7222 7.61628 11.0866 7.46563C11.4492 7.31574 11.8072 7.04954 12.3466 6.49869L12.3466 6.49869C13.3966 5.42655 14.2892 4.51511 14.9916 3.9756Z" fill="white"/>
                            </svg>
                        ) : (volume == 0) ? (
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M1.29289 1.29289C1.68342 0.902369 2.31658 0.902369 2.70711 1.29289L22.7071 21.2929C23.0976 21.6834 23.0976 22.3166 22.7071 22.7071C22.3166 23.0976 21.6834 23.0976 21.2929 22.7071L1.29289 2.70711C0.902369 2.31658 0.902369 1.68342 1.29289 1.29289Z" fill="white"/>
                                <path d="M10.9916 3.9756C11.6784 3.44801 12.4957 3.01957 13.367 3.38808C14.2302 3.75318 14.5076 4.63267 14.6274 5.49785C14.7502 6.38459 14.7502 7.60557 14.7502 9.12365V9.76734C14.7502 10.3838 14.7502 10.6921 14.565 10.7688C14.3798 10.8455 14.1618 10.6275 13.7259 10.1916L9.60567 6.07138C9.4057 5.87142 9.30572 5.77143 9.30618 5.64652C9.30664 5.5216 9.40654 5.42317 9.60634 5.22631C10.1262 4.71414 10.59 4.28407 10.9916 3.9756Z" fill="white"/>
                                <path d="M14.7502 14.8794C14.7502 16.3975 14.7502 17.6185 14.6274 18.5052C14.5076 19.3704 14.2302 20.2499 13.367 20.615C12.4957 20.9835 11.6784 20.5551 10.9916 20.0275C10.2892 19.488 9.39657 18.5765 8.34663 17.5044C7.80717 16.9535 7.44921 16.6873 7.08663 16.5374C6.72221 16.3868 6.27914 16.3229 5.50619 16.3229C4.83768 16.3229 4.23963 16.3229 3.78679 16.2758C3.31184 16.2265 2.87088 16.1191 2.47421 15.8485C1.7184 15.3328 1.42917 14.5777 1.31957 13.8838C1.23785 13.3663 1.24723 12.7981 1.25479 12.3405L1.25479 11.6626C1.24723 11.205 1.23785 10.6368 1.31957 10.1193C1.42917 9.42536 1.7184 8.67029 2.47421 8.15462C2.87088 7.88398 3.31184 7.77657 3.78679 7.72723C4.23963 7.68019 4.83768 7.68021 5.50619 7.68023C6.27914 7.68023 6.72221 7.61628 7.08663 7.46563L7.08667 7.46562C7.15391 7.43782 7.18754 7.42392 7.20716 7.41876C7.30665 7.39262 7.38317 7.40787 7.46504 7.47015C7.48118 7.48243 7.50056 7.50181 7.53931 7.54055L14.6596 14.6609L14.6648 14.6661C14.7187 14.7212 14.7492 14.795 14.7501 14.8721L14.7502 14.8794Z" fill="white"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M19.2869 7.29899C19.674 6.90513 20.3072 6.89969 20.701 7.28685C22.1127 8.67445 23 10.4871 23 12.5C23 13.8929 22.5738 15.1964 21.8385 16.3278C21.5376 16.7909 20.9182 16.9223 20.4551 16.6214C19.992 16.3204 19.8606 15.701 20.1615 15.238C20.7044 14.4027 21 13.4737 21 12.5C21 11.1032 20.389 9.78458 19.299 8.71315C18.9052 8.32599 18.8997 7.69285 19.2869 7.29899ZM16.3654 9.22717C16.7922 8.87668 17.4224 8.93856 17.7729 9.36538C18.5358 10.2945 19 11.4536 19 12.7195C19 12.7455 18.9998 12.7716 18.9994 12.7976C18.9911 13.3498 18.5366 13.7907 17.9844 13.7823C17.4322 13.7739 16.9913 13.3195 16.9997 12.7673C16.9999 12.7514 17 12.7354 17 12.7195C17 11.9573 16.7233 11.2388 16.2272 10.6346C15.8767 10.2078 15.9386 9.57766 16.3654 9.22717Z" fill="white"/>
                            </svg>
                        ) : (
                            <></>
                        )}
                    </button>

                    <div className='w-[4rem] z-0 h-[4rem] absolute bottom-[1rem]'></div>

                    {!isLoading && (
                        <div id='box-chenge-volum' className='hidden absolute rotate-90 bottom-[7rem] flex justify-center items-center p-[1rem] rounded-[0.5rem] bg-[#262626] border border-[#434343]'>
                            <input
                                className='range accent-[#1DB954]'
                                type="range"
                                min="0"
                                max="1"
                                step="0.01"
                                value={volume}
                                onChange={handleVolumeChange}
                            />
                        </div>
                    )}
                </div>

                {!isLoading && (
                    <div className='bg-[#121212] mx-[1rem] py-[0.25rem] px-[0.5rem] rounded-full text-[12px] flex justify-center items-center'>
                        <span className='mt-[0.1rem]'>{formatTime(duration)}</span>
                    </div>
                )}

                <div className='w-full'>
                    <div id="waveform"></div>
                </div>

                {!isLoading && (
                    <div className='bg-[#121212] mx-[1rem] py-[0.25rem] px-[0.5rem] rounded-full text-[12px] flex justify-center items-center'>
                        <span className='mt-[0.1rem]'>{formatTime(currentTime)}</span>
                    </div>
                )}

                {!isLoading && (
                    <div className='flex justify-center items-center'>
                        <button onClick={playNextSong} className='mx-[0.5rem]'>
                            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.7698 10.9117L18.9112 11.0027C20.9958 12.3428 22.6525 13.4079 23.8298 14.3823C25.0274 15.3737 25.911 16.4142 26.1946 17.7652C26.3655 18.5789 26.3655 19.4211 26.1946 20.2347C25.911 21.5857 25.0274 22.6263 23.8298 23.6176C22.6526 24.5921 20.9959 25.6571 18.9113 26.9972L18.7698 27.0882C16.5 28.5474 14.7024 29.7031 13.2356 30.4118C11.7597 31.1248 10.3568 31.5205 8.97133 31.0969C8.15417 30.847 7.40587 30.4089 6.78071 29.8193C5.73448 28.8325 5.32874 27.4148 5.13792 25.7402C4.94772 24.071 4.94774 21.8717 4.94775 19.0805V18.9195C4.94774 16.1283 4.94772 13.9289 5.13792 12.2598C5.32874 10.5852 5.73448 9.16749 6.78071 8.18067C7.40587 7.59101 8.15417 7.15294 8.97133 6.90307C10.3568 6.47943 11.7597 6.87513 13.2356 7.58817C14.7023 8.29681 16.5 9.45249 18.7698 10.9117Z" fill="#F5F5F5"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M31.4684 4.75C30.594 4.75 29.8851 5.45888 29.8851 6.33333L29.8851 31.6667C29.8851 32.5411 30.594 33.25 31.4684 33.25C32.3429 33.25 33.0518 32.5411 33.0518 31.6667L33.0518 6.33333C33.0518 5.45888 32.3429 4.75 31.4684 4.75Z" fill="#F5F5F5"/>
                            </svg>
                        </button>

                        <button onClick={togglePlay} className='mx-[0.5rem]'>
                            {(isPlaying) ? (
                                <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M35.3136 6.77082L35.4165 6.77082L35.5194 6.77082C36.9045 6.77074 38.098 6.77067 39.0537 6.89917C40.0779 7.03687 41.0597 7.34741 41.8561 8.14376C42.6524 8.9401 42.963 9.9219 43.1007 10.9461C43.2292 11.9019 43.2291 13.0953 43.229 14.4805L43.229 35.5195C43.2291 36.9046 43.2292 38.0981 43.1007 39.0538C42.963 40.0781 42.6524 41.0599 41.8561 41.8562C41.0597 42.6526 40.0779 42.9631 39.0537 43.1008C38.098 43.2293 36.9045 43.2292 35.5194 43.2292H35.3137C33.9285 43.2292 32.7351 43.2293 31.7793 43.1008C30.7551 42.9631 29.7733 42.6526 28.9769 41.8562C28.1806 41.0599 27.8701 40.0781 27.7324 39.0538C27.6039 38.0981 27.6039 36.9047 27.604 35.5195L27.604 14.4805C27.6039 13.0953 27.6039 11.9019 27.7324 10.9461C27.8701 9.9219 28.1806 8.9401 28.9769 8.14376C29.7733 7.34741 30.7551 7.03687 31.7793 6.89917C32.7351 6.77067 33.9285 6.77074 35.3136 6.77082Z" fill="#F5F5F5"/>
                                    <path d="M14.4806 6.77082L14.5835 6.77082L14.6864 6.77082C16.0715 6.77074 17.265 6.77067 18.2207 6.89917C19.2449 7.03687 20.2267 7.34741 21.0231 8.14376C21.8194 8.9401 22.13 9.9219 22.2677 10.9461C22.3962 11.9019 22.3961 13.0953 22.396 14.4805L22.396 35.5195C22.3961 36.9046 22.3962 38.0981 22.2677 39.0538C22.13 40.0781 21.8194 41.0599 21.0231 41.8562C20.2267 42.6526 19.2449 42.9631 18.2207 43.1008C17.265 43.2293 16.0715 43.2292 14.6864 43.2292H14.4807C13.0955 43.2292 11.9021 43.2293 10.9463 43.1008C9.92209 42.9631 8.94029 42.6526 8.14394 41.8562C7.34759 41.0599 7.03705 40.0781 6.89935 39.0538C6.77086 38.0981 6.77092 36.9047 6.771 35.5195L6.771 14.4805C6.77092 13.0953 6.77086 11.9019 6.89935 10.9461C7.03705 9.9219 7.34759 8.9401 8.14394 8.14376C8.94029 7.34741 9.92209 7.03687 10.9463 6.89917C11.902 6.77067 13.0955 6.77074 14.4806 6.77082Z" fill="#F5F5F5"/>
                                </svg>
                            ) :  (
                                <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.604 25C2.604 12.6311 12.631 2.60416 24.9998 2.60416C37.3687 2.60416 47.3957 12.6311 47.3957 25C47.3957 37.3689 37.3687 47.3958 24.9998 47.3958C12.631 47.3958 2.604 37.3689 2.604 25ZM28.1394 18.7218L28.3094 18.827L28.3095 18.8271C29.7297 19.7056 30.9137 20.438 31.7717 21.1205C32.655 21.823 33.4329 22.6534 33.7126 23.8107C33.9011 24.5909 33.9011 25.4096 33.7126 26.1898C33.4329 27.3472 32.655 28.1775 31.7717 28.8801C30.9137 29.5625 29.7296 30.295 28.3094 31.1735L28.1393 31.2787C26.7713 32.1251 25.6234 32.8353 24.6711 33.2763C23.7053 33.7236 22.6041 34.0612 21.4557 33.7068C20.6967 33.4726 20.0223 33.033 19.4898 32.448C18.715 31.5968 18.4597 30.4844 18.3441 29.3725C18.2289 28.2645 18.229 26.833 18.229 25.0898V24.9107C18.229 23.1675 18.2289 21.7361 18.3441 20.628C18.4597 19.5162 18.715 18.4037 19.4898 17.5526C20.0223 16.9675 20.6967 16.528 21.4557 16.2938C22.6041 15.9394 23.7053 16.2769 24.6711 16.7242C25.6234 17.1653 26.7713 17.8754 28.1394 18.7218Z" fill="white"/>
                                </svg>
                            )}
                        </button>

                        <button onClick={playPreviousSong} className='mx-[0.5rem]'>
                            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M19.2302 10.9117L19.0888 11.0027C17.0042 12.3428 15.3475 13.4079 14.1702 14.3823C12.9726 15.3737 12.089 16.4142 11.8054 17.7652C11.6345 18.5789 11.6345 19.4211 11.8054 20.2347C12.089 21.5857 12.9726 22.6263 14.1702 23.6176C15.3474 24.5921 17.0041 25.6571 19.0887 26.9972L19.2302 27.0882C21.5 28.5474 23.2976 29.7031 24.7644 30.4118C26.2403 31.1248 27.6432 31.5205 29.0287 31.0969C29.8458 30.847 30.5941 30.4089 31.2193 29.8193C32.2655 28.8325 32.6713 27.4148 32.8621 25.7402C33.0523 24.071 33.0523 21.8717 33.0522 19.0805V18.9195C33.0523 16.1283 33.0523 13.9289 32.8621 12.2598C32.6713 10.5852 32.2655 9.16749 31.2193 8.18067C30.5941 7.59101 29.8458 7.15294 29.0287 6.90307C27.6432 6.47943 26.2403 6.87513 24.7644 7.58817C23.2977 8.29681 21.5 9.45249 19.2302 10.9117Z" fill="#F5F5F5"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.53158 4.75C7.40603 4.75 8.11491 5.45888 8.11491 6.33333L8.11491 31.6667C8.11491 32.5411 7.40603 33.25 6.53158 33.25C5.65712 33.25 4.94824 32.5411 4.94824 31.6667L4.94824 6.33333C4.94824 5.45888 5.65713 4.75 6.53158 4.75Z" fill="#F5F5F5"/>
                            </svg>
                        </button>
                    </div>
                )}

                <div>
                    <div className='flex w-min mr-[1rem] pr-[1rem] border-r border-[#434343] my-[0.5rem]'>
                        <div className='flex min-w-[6rem] flex-col justify-center items-end ml-[1rem]'>
                            <div className='!text-[#F5F5F5] font-bold'>
                                <span>{musicData?.title}</span>
                            </div>

                            <div className='!text-[#434343] text-[14px]'>
                                <span>{musicData?.creator}</span>
                            </div>
                        </div>

                        <div className='w-[3.5rem] w-min-[3.75rem] h-[3.5rem]'>
                            <img className='rounded-full w-full h-full' src={musicData?.cover} />
                        </div>
                    </div>
                </div>
            </section>
        </>
    );
};

export default BoxMusicPlayer;
